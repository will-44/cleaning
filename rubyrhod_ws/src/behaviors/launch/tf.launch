<?xml version="1.0"?>

<launch>
    <arg name="ros_version" default="$(env ROS_DISTRO)"/>
    <arg name="model"   default="m1013"/>
    <arg name="ns"      default="dsr"/>
    <arg name="gui"     default="True" />
    <arg name="remap"   default="True"/>
    <arg name="color"   default="white"/>
    <arg name="gripper" default="none"/>
    <arg name="mode" default="real"/>


<!--    <param name="doosan_description" command="$(find xacro)/xacro '$(find dsr_description)/xacro/$(arg model).urdf.xacro' '&#45;&#45;inorder' 'namespace:=$(arg ns)' color:=$(arg color) gripper:=$(arg gripper)"/> -->
    <param name="vention_description" command="$(find xacro)/xacro '$(find behaviors)/description/robot.urdf.xacro' '--inorder'"/>
    <!-- <param name="bracket_description" textfile="$(find bracket)/urdf/bracket.urdf"/>
    <include file="$(find realsense2_description)/launch/view_d435_model.launch" /> -->
<!--     <include file="$(find robotiq_2f_85_gripper_visualization)/launch/test_2f_85_model.launch" /> -->
<!--    <param name="gripper_description" command="$(find xacro)/xacro $(find robotiq_2f_85_gripper_visualization)/urdf/robotiq_arg2f_85_model.xacro" /> -->

      <node pkg="tf" type="static_transform_publisher" name="doosan_mir"
            args="0 0 0  0 0 0 plate_arm world 100"/>
      <node pkg="tf" type="static_transform_publisher" name="vention_mir"
          args="0 0 0 0 0 0 surface structure_vention 100"/>

    <!-- <node pkg="tf" type="static_transform_publisher" name="doosan_map"
          args="10 10 0.76 0 0 0 map world 100"/> -->

    <!-- <node pkg="tf" type="static_transform_publisher" name="machine_map"
          args="16.6 3.6 0 0 0 0 map machine 100"/> -->


      <group if="$(eval arg ('mode') == 'sim')">
      <node pkg="tf" type="static_transform_publisher" name="table_map"
          args="0 0 0 0 0 0 world machine 100"/>
      </group>
    <!-- -0.8851 -0.132 -0.9562 -1.5342244 -0.0187122 1.5262571  -->

    <!-- IMPORTANT !!! TO calibrate the machine and the AR tag -->
<!--     <node pkg="tf" type="static_transform_publisher" name="machine_artag" -->
<!--           args="-0.8251627177186572 -0.0524471788338875 -0.956239983059406  0 -0.0187123 0   ar_marker_6 machine 100"/> -->
<!--            si Ox = 0 on est veritcal-->
<!-- -0.8851627177186572 -0.1724471788338875 -0.956239983059406 -1.5342242 -0.0187123 1.5262573 -->
<!-- xyz zxy yzx xzy yxz zyx-->
      <!-- <node pkg="tf" type="static_transform_publisher" name="table_artag"
          args="0.03290475 -0.03436026 0.01830978 -3.06151778 -0.11915912  1.60335554  ar_marker_3 table  100"/> -->

<!--     <node pkg="tf" type="static_transform_publisher" name="machine_machine_real" -->
<!--           args="0 0 0 -1.57 0 1.57 machine machine_real 100"/> -->
    <!-- <node pkg="tf" type="static_transform_publisher" name="machine_map"
          args="9.79299243 11.09026672   0.11365446 -0.0903674 1.4375119 1.6189044 map machine 100"/> -->


    <!-- <node pkg="tf" type="static_transform_publisher" name="bracket_doosan"
          args="0 0 0 1.57 0 -1.57  link6 bracket_base_link 100"/> -->

<!--     <node pkg="tf" type="static_transform_publisher" name="gripper_doosan" -->
<!--           args="0 0 0 1.57 0 -1.57  link6 robotiq_arg2f_base_link 100"/> -->

    <!-- <node pkg="tf" type="static_transform_publisher" name="camera_bracket"
          args="-0.0504955 0.0284431 0.0760899 -3.1321603 -1.3428157 3.1284867   link6 camera_link 100"/> -->

    <!-- <node pkg="tf" type="static_transform_publisher" name="doosan_map"
          args="0 0 0 0 0 0 map map_doosan 100"/> -->

<!--   <node name="doosan_state_publisher" pkg="robot_state_publisher" type="robot_state_publisher" output="screen" respawn="false">-->
<!--       <remap from="/joint_states" to="/dsr01m1013/joint_states"/>-->
<!--       <remap from="robot_description" to="doosan_description" />-->
<!--    </node> -->


    <node name="vention_state_publisher" pkg="robot_state_publisher" type="robot_state_publisher" output="screen" respawn="false">
        <remap from="robot_description" to="vention_description" />
    </node>
    <!-- <node name="bracket_state_publisher" pkg="robot_state_publisher" type="robot_state_publisher" output="screen" respawn="false">
        <remap from="robot_description" to="bracket_description" />
    </node> -->

<!--     <group if="$(eval arg ('mode') == 'real')"> -->
<!--         <node pkg="utility" type="add_basic_colision.py" name="colision_base" ns="/dsr01m1013" output="screen"> -->
<!--             <param  name="robot_description" value="/dsr01m1013/robot_description" /> -->
<!--         </node> -->
<!--     </group> -->


<!--        <node name="camera_arm_state_publisher" pkg="robot_state_publisher" type="robot_state_publisher" > -->
<!--        <remap from="robot_description" to="camera_arm_description" /> -->
<!--    </node> -->
<!--    <node name="gripper_state_publisher" pkg="robot_state_publisher" type="robot_state_publisher" output="screen" respawn="false"> -->
<!--        <remap from="/joint_states" to="/gripper/joint_states"/> -->
<!--        <remap from="robot_description" to="gripper_description" /> -->
<!--    </node> -->
        <!--    In progresse-->
<!--    <node name="gripper_state_publisher_gui" pkg="joint_state_publisher_gui" type="joint_state_publisher_gui" respawn="false"> -->
<!--        <param name="robot_description" value="gripper_description"/> -->
<!--    </node> -->
<!--    rosrun joint_state_publisher_gui joint_state_publisher_gui robot_description:="gripper_description" -->


</launch>